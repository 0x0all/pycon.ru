{% extends "_base.html" %}

{% block head_extra %}
  <script src="/js/countdown.min.js" type="text/javascript"></script>
  <script>
    function updateCounter() {
        var now = new Date();
        var start = new Date(2013, 1, 24, 9, 0, 0, 0);
        var finish = new Date(2013, 1, 25, 23, 59, 59, 0);

        if (now < start) {
            var c = countdown(start, null, countdown.DAYS | countdown.HOURS | countdown.MINUTES | countdown.SECONDS);
            document.getElementById('days-value').innerHTML = c.days;
            document.getElementById('hours-value').innerHTML = c.hours;
            document.getElementById('minutes-value').innerHTML = c.minutes;
            document.getElementById('seconds-value').innerHTML = c.seconds;
        } else if (now > start && now < finish) {
            var counter = document.getElementById('counter');
            counter.setAttribute('class', 'counter finished');
            counter.setAttribute('className', 'counter finished');
        } else if (now > finish) {
            var counter = document.getElementById('counter');
            counter.style.display = 'none';
        }
    }
    window.onload = function() {
        setInterval(updateCounter, 1000);
    }
  </script>
{% endblock %}

{% block content %}
  <h2>{% trans %}PyCon Russia 2013, Feb&nbsp;24&#8209;25{% endtrans %}</h2>

  <section class="counter" id="counter">
    <span class="now-live">{{ _('Now live!') }}</span>

    <div class="days">
      <div class="value" id="days-value">75</div>
      <div class="label">{{ _('days') }}</div>
    </div>

    <div class="hours">
      <div class="value" id="hours-value">06</div>
      <div class="label">{{ _('hours') }}</div>
    </div>

    <div class="minutes">
      <div class="value" id="minutes-value">24</div>
      <div class="label">{{ _('minutes') }}</div>
    </div>

    <div class="seconds">
      <div class="value" id="seconds-value">33</div>
      <div class="label">{{ _('seconds') }}</div>
    </div>

    <script>
      updateCounter();
    </script>
  </section>
  
  <div class="summary">
    {{ summary }}
  </div>

  <aside class="location">
    {{ location }}
    <div class="map-wrapper">
      <a href="{{ url_for('participation/venue') }}" target="_self">
        {% trans %}See Venue for more information about conference location.{% endtrans %}
      </a>
      <img src="http://static-maps.yandex.ru/1.x/?pt=60.92495,56.5789,pm2lbm&ll=60.92495,56.5789&size=240,140&spn=0.15,0.15&l=map">
    </div>
  </aside>

  <section class="conference-objectives">
    {{ conference_objectives }}
  </section>
  
  <section class="technical-details">
    {{ technical_details }}
  </section>

  <section class="participants-geo">
    <h3>География участников</h3>
    <iframe width="860" height="400" frameborder="0" scrolling="no" marginheight="0" marginwidth="0" src="https://maps.google.com/maps/ms?msid=215111957795026811413.0004d4f9f07d41cf04f96&amp;msa=0&amp;ie=UTF8&amp;t=m&amp;ll=23.563987,3.164063&amp;spn=110.040698,298.476563&amp;z=2&amp;output=embed"></iframe>
    <small>Просмотреть <a href="https://maps.google.com/maps/ms?msid=215111957795026811413.0004d4f9f07d41cf04f96&amp;msa=0&amp;ie=UTF8&amp;t=m&amp;ll=23.563987,3.164063&amp;spn=110.040698,298.476563&amp;z=2&amp;source=embed" style="color:#0000FF;text-align:left">PyCon Russia 2013</a> на карте большего размера</small>
  </section>
{% endblock %}
